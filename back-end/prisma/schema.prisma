// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Collaborator {
  id                Int       @unique           @default(autoincrement())
  name              String    @db.VarChar(120)
  registerNumber    String    @unique           @db.VarChar(5)
  email             String    @unique
  password          String
  staff             Boolean   @default(false)
  director          Boolean   @default(false)
  hourCharge        Int       @default(8)
  points            Point[]
  create_at         DateTime  @default(now())
  update_at         DateTime  @updatedAt

  @@map("collaborators")
}

model Point {
  id                  Int       @unique           @default(autoincrement())
  startHour           DateTime  @default(now())   @db.Timestamp()
  endHour             DateTime  @updatedAt        @db.Timestamp()
  onLine              Boolean   @default(true)
  workDay             DateTime  @default(now())   @db.Date
  lunchTimeStart      DateTime?    
  lunchTimeEnd        DateTime?
  collaboratorId      Int
  collaborator        Collaborator @relation(fields: [collaboratorId], references: [id], onDelete: Cascade, onUpdate: Cascade)

  @@map("points")
}